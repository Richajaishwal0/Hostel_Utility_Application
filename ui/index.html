<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hostel Utility Application</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Hostel Utility Application</h1>
        <p>Distributed Systems Project - All 5 Modules</p>
      </header>

      <nav>
        <button onclick="showModule('complaints')" class="nav-btn active">
          Complaints
        </button>
        <button onclick="showModule('rooms')" class="nav-btn">Room Info</button>
        <button onclick="showModule('notices')" class="nav-btn">Notices</button>
        <button onclick="showModule('resources')" class="nav-btn">
          P2P Resources
        </button>
        <button onclick="showModule('feedback')" class="nav-btn">
          Mess Feedback
        </button>
      </nav>

      <!-- Module 1: Socket Programming - Complaints -->
      <div id="complaints" class="module active">
        <h2>Complaint Management System (Socket Programming)</h2>
        <div class="form-section">
          <h3>Submit Complaint</h3>
          <form id="complaintForm">
            <input type="text" id="room" placeholder="Room Number" required />
            <select id="category" required>
              <option value="">Select Category</option>
              <option value="Water">Water</option>
              <option value="Electricity">Electricity</option>
              <option value="Cleanliness">Cleanliness</option>
              <option value="Other">Other</option>
            </select>
            <textarea
              id="description"
              placeholder="Description"
              required
            ></textarea>
            <button type="submit">Submit Complaint</button>
          </form>
        </div>
        <div class="result-section">
          <h3>Complaint Status</h3>
          <div id="complaintResult"></div>
          <button onclick="loadComplaints()">View All Complaints</button>
          <div id="complaintsList"></div>
        </div>
      </div>

      <!-- Module 2: RMI - Room Information -->
      <div id="rooms" class="module">
        <h2>Room Information Service (Java RMI)</h2>
        <div class="form-section">
          <h3>Search Room</h3>
          <input type="text" id="roomSearch" placeholder="Enter Room Number" />
          <button onclick="searchRoom()">Search Room</button>
          <button onclick="loadAllRooms()">View All Rooms</button>
          
          <div class="quick-rooms">
            <h4>Quick Access - Available Rooms:</h4>
            <div class="room-buttons">
              <button onclick="quickSearchRoom('101')" class="room-btn">101</button>
              <button onclick="quickSearchRoom('102')" class="room-btn">102</button>
              <button onclick="quickSearchRoom('103')" class="room-btn">103</button>
              <button onclick="quickSearchRoom('104')" class="room-btn">104</button>
              <button onclick="quickSearchRoom('105')" class="room-btn">105</button>
              <button onclick="quickSearchRoom('106')" class="room-btn">106</button>
              <button onclick="quickSearchRoom('107')" class="room-btn">107</button>
              <button onclick="quickSearchRoom('108')" class="room-btn">108</button>
              <button onclick="quickSearchRoom('109')" class="room-btn">109</button>
              <button onclick="quickSearchRoom('110')" class="room-btn">110</button>
            </div>
          </div>
        </div>
        <div class="result-section">
          <div id="roomResult"></div>
        </div>
      </div>

      <!-- Module 3: REST API - Notices -->
      <div id="notices" class="module">
        <h2>Notice Board System (REST API)</h2>
        
        <!-- Role Selection -->
        <div class="role-selection">
          <button onclick="showNoticeRole('admin')" class="role-btn" id="adminRoleBtn">Admin Panel</button>
          <button onclick="showNoticeRole('student')" class="role-btn active" id="studentRoleBtn">Student View</button>
        </div>
        
        <!-- Admin Panel -->
        <div id="adminPanel" class="notice-panel" style="display: none;">
          <h3>ğŸ” Admin - Manage Notices</h3>
          <div class="form-section">
            <form id="noticeForm">
              <input
                type="text"
                id="noticeTitle"
                placeholder="Notice Title (e.g., Mess Timing Change)"
                required
              />
              <textarea
                id="noticeMessage"
                placeholder="Notice Message (e.g., Dinner timing changed to 7:30 PM starting tomorrow)"
                rows="4"
                required
              ></textarea>
              <button type="submit" class="admin-btn">ğŸ“¢ Publish Notice</button>
            </form>
          </div>
          <div class="admin-stats">
            <p>ğŸ“Š <span id="noticeCount">0</span> notices published</p>
            <button onclick="loadNoticesForAdmin()" class="refresh-btn">ğŸ”„ Refresh</button>
          </div>
        </div>
        
        <!-- Student Panel -->
        <div id="studentPanel" class="notice-panel">
          <h3>ğŸ“‹ Student - View Notices</h3>
          <div class="student-actions">
            <button onclick="loadNotices()" class="student-btn">ğŸ“¥ Load Latest Notices</button>
            <button onclick="clearNoticeView()" class="clear-btn">ğŸ—‘ï¸ Clear View</button>
          </div>
          <div id="noticesList" class="notices-container">
            <div class="no-notices">ğŸ“­ No notices available. Click "Load Latest Notices" to check for updates.</div>
          </div>
        </div>
      </div>

      <!-- Module 4: P2P - Resource Sharing -->
      <div id="resources" class="module">
        <h2>Student Resource Sharing (P2P)</h2>
        
        <!-- Peer Selection -->
        <div class="peer-selection">
          <button onclick="showPeerView('peer1')" class="peer-btn active" id="peer1Btn">ğŸŸ¢ Peer 1</button>
          <button onclick="showPeerView('peer2')" class="peer-btn" id="peer2Btn">ğŸ”µ Peer 2</button>
        </div>
        
        <!-- Peer 1 Section -->
        <div id="peer1Section" class="peer-section">
          <h3 style="color: #28a745;">ğŸŸ¢ Peer 1 Interface</h3>
          
          <!-- Network Status -->
          <div class="p2p-status">
            <h4>ğŸŒ P2P Network Status</h4>
            <div class="network-info">
              <span class="status-indicator" id="statusIndicator1">ğŸ”´ Disconnected</span>
              <button onclick="refreshNetworkStatus('peer1')" class="refresh-btn">ğŸ”„ Refresh</button>
            </div>
            <div id="peersList1" class="peers-list"></div>
          </div>
          
          <!-- File Upload Section -->
          <div class="form-section">
            <h4>â¬†ï¸ Upload Resource (Peer 1)</h4>
            <div class="upload-area">
              <input type="file" id="fileUpload1" accept=".pdf,.txt,.doc,.docx,.ppt,.pptx" />
              <button onclick="uploadFile('peer1')" class="upload-btn">ğŸ“„ Share File</button>
            </div>
          </div>
          
          <!-- File Discovery Section -->
          <div class="form-section">
            <h4>ğŸ” Discover Resources</h4>
            <div class="search-area">
              <input type="text" id="searchFile1" placeholder="Search for files from other peers" />
              <button onclick="searchFiles('peer1')" class="search-btn">ğŸ” Search</button>
              <button onclick="listAllFiles('peer1')" class="list-btn">ğŸ“ Browse All</button>
            </div>
          </div>
          
          <!-- Results Section -->
          <div class="result-section">
            <h4>ğŸ“Š Available Resources (Peer 1 View)</h4>
            <div id="searchResults1" class="files-grid">
              <div class="no-files">ğŸ“ No files found. Upload files or browse network to discover resources.</div>
            </div>
          </div>
        </div>
        
        <!-- Peer 2 Section -->
        <div id="peer2Section" class="peer-section" style="display: none;">
          <h3 style="color: #007bff;">ğŸ”µ Peer 2 Interface</h3>
          
          <!-- Network Status -->
          <div class="p2p-status">
            <h4>ğŸŒ P2P Network Status</h4>
            <div class="network-info">
              <span class="status-indicator" id="statusIndicator2">ğŸ”´ Disconnected</span>
              <button onclick="refreshNetworkStatus('peer2')" class="refresh-btn">ğŸ”„ Refresh</button>
            </div>
            <div id="peersList2" class="peers-list"></div>
          </div>
          
          <!-- File Upload Section -->
          <div class="form-section">
            <h4>â¬†ï¸ Upload Resource (Peer 2)</h4>
            <div class="upload-area">
              <input type="file" id="fileUpload2" accept=".pdf,.txt,.doc,.docx,.ppt,.pptx" />
              <button onclick="uploadFile('peer2')" class="upload-btn">ğŸ“„ Share File</button>
            </div>
          </div>
          
          <!-- File Discovery Section -->
          <div class="form-section">
            <h4>ğŸ” Discover Resources</h4>
            <div class="search-area">
              <input type="text" id="searchFile2" placeholder="Search for files from other peers" />
              <button onclick="searchFiles('peer2')" class="search-btn">ğŸ” Search</button>
              <button onclick="listAllFiles('peer2')" class="list-btn">ğŸ“ Browse All</button>
            </div>
          </div>
          
          <!-- Results Section -->
          <div class="result-section">
            <h4>ğŸ“Š Available Resources (Peer 2 View)</h4>
            <div id="searchResults2" class="files-grid">
              <div class="no-files">ğŸ“ No files found. Upload files or browse network to discover resources.</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Module 5: Shared Memory - Mess Feedback -->
      <div id="feedback" class="module">
        <h2>Mess Feedback Live Counter (Shared Memory)</h2>
        <div class="form-section">
          <h3>Submit Feedback</h3>
          <div class="feedback-buttons">
            <button onclick="submitFeedback('good')" class="feedback-btn good">
              Good ğŸ‘
            </button>
            <button
              onclick="submitFeedback('average')"
              class="feedback-btn average"
            >
              Average ğŸ‘Œ
            </button>
            <button onclick="submitFeedback('poor')" class="feedback-btn poor">
              Poor ğŸ‘
            </button>
          </div>
        </div>
        <div class="result-section">
          <h3>Live Results</h3>
          <button onclick="loadFeedbackResults()">Refresh Results</button>
          <div id="feedbackResults">
            <div class="counter">Good: <span id="goodCount">0</span></div>
            <div class="counter">Average: <span id="averageCount">0</span></div>
            <div class="counter">Poor: <span id="poorCount">0</span></div>
            <div class="counter">Total: <span id="totalCount">0</span></div>
          </div>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
